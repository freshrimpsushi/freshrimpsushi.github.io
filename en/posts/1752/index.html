<!DOCTYPE html>
<html class="blog">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    
    

    
    <meta name="NaverBot" content="All" />
    <meta name="NaverBot" content="index,follow" />
    <meta name="Yeti" content="All" />
    <meta name="Yeti" content="index,follow" />

    
    
    <link rel="icon" href="https://freshrimpsushi.github.io/ko/logo/favicon.ico">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="logo/basic.png">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/katex.min.css"
        integrity="sha512-vJqxkZ+Sugf/6WRlpcxN01qVfX/29hF6qc33eHF1va3NgoV+U+wCi+uTAsQ10sDoGyBxHLdaHvGwDlV3yVYboA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href=https://freshrimpsushi.github.io/en/css/style.css rel="preload" as="style" onload="this.rel='stylesheet'">
    <link href=https://freshrimpsushi.github.io/en/css/comment.css rel="preload" as="style" onload="this.rel='stylesheet'">

    
    <style type="text/css">
        .thmbox {
            background: rgb(245, 245, 245);
             
            border-radius: 20px;
            padding: 20px;
        }
    </style>

    
    <script data-ad-client="ca-pub-4751085325232621" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    
    <meta name="google-site-verification" content="KYAokS7-6C5YuXOjatJQsiK1T0O8x4YncYFIF4tneYI" />
    <meta name="naver-site-verification" content="e5651d6f97899061897203413efc84994f04bbba" />

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NLV8Y9PRK1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-NLV8Y9PRK1');
    </script>

    <title>Curl of Vector Functions in 3D Cartesian Coordinates</title>

    
</head>

<meta name="title" content="Curl of Vector Functions in 3D Cartesian Coordinates">
<meta name="description"Content="국내 최대의 수학, 물리학, 통계학 블로그">
<meta property="og:title" content="Curl of Vector Functions in 3D Cartesian Coordinates"/>
<meta property="og:description" content="Curl of Vector Functions in 3D Cartesian Coordinates"/>
<meta property="og:image" content=https://freshrimpsushi.github.io/en/logo/basic.png/>


<link rel="canonical" href="https://freshrimpsushi.github.io/ko/"/>
<link rel="alternate" hreflang="en" href="https://freshrimpsushi.github.io/en/"/>
<link rel="alternate" hreflang="jp" href="https://freshrimpsushi.github.io/jp/"/>






<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "articleSection": "j_",
    "name": "Curl of Vector Functions in 3D Cartesian Coordinates",
    "headline": "Curl of Vector Functions in 3D Cartesian Coordinates",
    "alternativeHeadline": "",
    "description": "Curl of Vector Functions in 3D Cartesian Coordinates",
    "inLanguage": "en",
    "isFamilyFriendly": "true",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https:\/\/freshrimpsushi.github.io\/en\/posts\/1752\/"
    },
    "author" : {
        "@type": "Person",
        "name": "전기현"
    },
    "creator" : {
        "@type": "Person",
        "name": "전기현"
    },
    "accountablePerson" : {
        "@type": "Person",
        "name": "전기현"
    },
    "copyrightHolder" : "FreshrimpRestaurant",
    "copyrightYear" : "2020",
    "dateCreated": "2020-09-03T00:00:00.00Z",
    "datePublished": "2020-09-03T00:00:00.00Z",
    "dateModified": "2020-09-03T00:00:00.00Z",
    "publisher":{
        "@type":"Organization",
        "name": "FreshrimpRestaurant",
        "url": "https://freshrimpsushi.github.io/en/",
        "logo": {
            "@type": "ImageObject",
            "url": "https:\/\/freshrimpsushi.github.io\/en\/logo\/basic.png",
            "width":"32",
            "height":"32"
        }
    },
    "image": "https://freshrimpsushi.github.io/en/logo/basic.png",
    "url" : "https:\/\/freshrimpsushi.github.io\/en\/posts\/1752\/",
    "wordCount" : "1654",
    "genre" : [ ],
    "keywords" : [ ]
}
</script>


<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src=https://freshrimpsushi.github.io/en/js/common.js></script>

<body class="main">
  <header>
    <a href= https://freshrimpsushi.github.io/en/ rel="home">
        <p style="text-align:center; font-size: 1rem; color: black;">
            
                <img src=https://freshrimpsushi.github.io/en/logo/%EC%88%98%EB%A6%AC%EB%AC%BC%EB%A6%AC.png style="height: auto; max-width: 16%;">
            
            
            
        </p>
    </a>
</header>

   
<script type="text/javascript">
    var goIndex = function(){
        var idx = document.getElementsByName("idx")[0].value;
        
        var local_idx = "../" + idx;
        location.replace(local_idx)
    }
</script>



  <script>
  document.addEventListener("DOMContentLoaded", () => {
    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {
        return data.ip
      })
      .then(ip => {
        const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/ip_checker.php';
        return postFetch(url, { user_ip: ip });
      })
      .then(res => res.json())
      .then(data => {
        if (!data.ok) {
          alert('차단된 IP입니다.\nContact:\nfreshrimpsushi@gmail.com')
          window.location.href = 'https://google.com';
        }
      })
      .catch(err => console.error(err));
  });
</script>
  <form method="get" action="/ko/search" style="border: 1px; text-align: center;">
    <div class="field">
    <input type="text" id="searchtext" placeholder = "통합검색" class="input_text" name="s"
    style="background-color: #EEEEEE; text-align: center; width: 200px; font-size: 1.5rem;
    border: 1px; border-radius: 5px; padding-top:5px; padding-bottom:5px; margin-bottom: 1.5rem">
    </div>
</form>
  <div style="text-align: center;">
    
    <a href="javascript:void(0);" onclick="changeLanguage('ko')">한국어</a> |
    <a href="javascript:void(0);" onclick="changeLanguage('en')">English</a> |
    <a href="javascript:void(0);" onclick="changeLanguage('jp')">日本語</a>
</div>

<script>
    function changeLanguage(languageCode) {
        
        var currentUrl = window.location.href;

        var newUrl = currentUrl.replace(/\/(ko|en|jp)\//i, '/' + languageCode + '/');
        
        if (currentUrl.includes('localhost')) {
            
            var port;
            switch (languageCode) {
                case 'ko':
                    port = 1313;
                    break;
                case 'en':
                    port = 1314;
                    break;
                case 'jp':
                    port = 1315;
                    break;
                default:
                    port = 1313; 
            }

            

            
            newUrl = 'http://localhost:' + port + '/' + languageCode + '/' + newUrl.split('/' + languageCode + '/')[1];
        }
        window.location.href = newUrl;
    }
</script>
  
  
  <div class="wrapper">
    <div class="content">
      <div class="content-box">
        
<title>Curl of Vector Functions in 3D Cartesian Coordinates</title>




        
        
        
        
        
        
        <a href="https://freshrimpsushi.github.io/en/categories/%EC%88%98%EB%A6%AC%EB%AC%BC%EB%A6%AC/"
            style="background-color: rgba(0, 0, 0, 0.8); color: orange;
            border-radius:10px; padding: 5px;">
            📂수리물리</a>
        
        
        
        
        
        
        
        
        


<h1>Curl of Vector Functions in 3D Cartesian Coordinates</h1>


<aside>
  <div class="innerheader">
    <div class="innertoc">
      <b>목차</b>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#definition">Definition</a></li>
    <li><a href="#explanation">Explanation</a></li>
    <li><a href="#points-to-note">Points to Note</a>
      <ul>
        <li><a href="#nabla-times-mathbff-is-not-the-cross-product-of-nabla-and-mathbff">$\nabla \times \mathbf{F}$ is not the cross product of $\nabla$ and $\mathbf{F}$</a></li>
        <li><a href="#so-whats-the-difference-between-nabla-times-mathbff-and-mathbff-times-nabla">So, what&rsquo;s the difference between $\nabla \times \mathbf{F}$ and $\mathbf{F} \times \nabla$?</a></li>
      </ul>
    </li>
    <li><a href="#derivation">Derivation</a></li>
    <li><a href="#related-formulas">Related formulas</a>
      <ul>
        <li><a href="#proof">Proof</a></li>
      </ul>
    </li>
    <li><a href="#further-reading">Further reading</a></li>
  </ul>
</nav>
    </div>    
  </div>
</aside>

<h2 id="definition">Definition</h2>
<p>For a <a href="../../categories/mathematical-physics/#vector-analysis">vector function</a> $\mathbf{F}(x,y,z)=(F_{x},F_{y},F_{z})=F_{x}\hat{\mathbf{x}} + F_{y}\hat{\mathbf{y}} + F_{z}\hat{\mathbf{z}}$, the following vector is defined as the <strong>curl</strong> of $\mathbf{F}$, denoted as $\nabla \times \mathbf{F}$.</p>
<p>$$
\begin{align}
\nabla \times \mathbf{F} &amp;= \left( \dfrac{ \partial  F_{z}}{ \partial y }-\dfrac{ \partial F_{y}}{ \partial  z} \right)\hat{\mathbf{x}}+ \left( \dfrac{ \partial  F_{x}}{ \partial z }-\dfrac{ \partial F_{z}}{ \partial  x} \right)\hat{\mathbf{y}}+ \left( \dfrac{ \partial  F_{y}}{ \partial x }-\dfrac{ \partial F_{x}}{ \partial  y} \right)\hat{\mathbf{z}} \label{def1}
\\ &amp;=\begin{vmatrix} \hat{\mathbf{x}} &amp; \hat{\mathbf{y}} &amp; \hat{\mathbf{z}}
\\ \dfrac{ \partial }{ \partial  x} &amp; \dfrac{ \partial  }{ \partial y } &amp; \dfrac{ \partial  }{ \partial  z}
\\ F_{x} &amp; F_{y} &amp;F_{z}\end{vmatrix} \label{def2}
\end{align}
$$</p>
<ul>
<li>$(2)$ serves as an easy-to-remember formula for the curl of $\mathbf{F}$. Think of it as a <a href="../252">determinant</a> and expand accordingly.</li>
</ul>
<h2 id="explanation">Explanation</h2>
<p>Curl translates to rotation. However, since the term &lsquo;rotation&rsquo; is too common and may lead to confusion with rotation instead of curl, the term &lsquo;curl&rsquo; is preferred at the Fresh Shrimp Sushi Restaurant.</p>
<p>$\nabla \times \mathbf{F}$ is a vector that indicates in which direction the physical quantity $\mathbf{F}$ is rotating. If you place the direction of $\nabla \times \mathbf{F}$ as the axis (thumb) and apply the right-hand rule, the direction in which your right hand wraps around corresponds to the direction of rotation of $\mathbf{F}$. The magnitude of the vector $\nabla \times \mathbf{F}$ represents the extent of the rotation.</p>
<p>Using <a href="../90">Einstein notation</a> and <a href="../83">Levi-Civita symbol</a>, it can be expressed as follows. If $\nabla_{j} = \dfrac{\partial }{\partial x_{j}}$ is denoted,</p>
<p>$$
\nabla \times \mathbf{F} = \epsilon_{ijk}\hat{\mathbf{e}}_{i}\nabla_{j}F_{k}
$$</p>
<p>Meanwhile, note that the value denoted as $(1)$ in the definition is <strong>expressed</strong> as $\nabla \times \mathbf{F}$. Although $\nabla$ is referred to as the <a href="../1575">del operator</a>, thinking of it as having a meaning on its own could easily lead to confusion, mistaking <a href="../1796">$\nabla \cdot \mathbf{F}$</a> or $\nabla \times \mathbf{F}$ as the <a href="../3504">dot product</a> and <a href="../256">cross product</a>, respectively. Hence, it&rsquo;s best to understand $\nabla$ merely as a convenient notation, and it might be even better to think of the del operator as synonymous with the gradient. The del operators, encompassing the gradient, divergence, and curl, will be discussed in more detail below.</p>
<h2 id="points-to-note">Points to Note</h2>
<h3 id="nabla-times-mathbff-is-not-the-cross-product-of-nabla-and-mathbff">$\nabla \times \mathbf{F}$ is not the cross product of $\nabla$ and $\mathbf{F}$</h3>
<div style="color:red" align=middle>$\nabla \times \mathbf{F}$ is definitely not the cross product of $\nabla$ and $\mathbf{F}$.</div>
<p>$\nabla \times \mathbf{F}$ is merely a vector containing some information about $\mathbf{F}$. We think of $\nabla$ as a vector like $\nabla = \dfrac{ \partial  }{ \partial  x}\hat{\mathbf{x}} + \dfrac{ \partial  }{ \partial  y}\hat{\mathbf{y}} + \dfrac{ \partial  }{ \partial  z}\hat{\mathbf{z}}$, and the result matches perfectly with $(1)$, so it&rsquo;s denoted as $\nabla \times \mathbf{F}$ for convenience. Assuming $\nabla$ is an actual vector would lead to strange results.</p>
<blockquote>
<p>The following equation holds for two vectors $\mathbf{A}, \mathbf{B}$:</p>
<p><a href="../93">$$
\nabla \times (\mathbf{A} \times \mathbf{B}) = (\mathbf{B} \cdot \nabla)\mathbf{A} - (\mathbf{A} \cdot \nabla)\mathbf{B} + \mathbf{A} (\nabla \cdot \mathbf{B}) - \mathbf{B} (\nabla \cdot \mathbf{A})
$$</a></p>
</blockquote>
<p>If $\nabla$ were truly a vector, we could substitute it into the above formula and obtain the following results.</p>
<p>$$
\nabla \times (\nabla \times \mathbf{F})=(\mathbf{F} \cdot \nabla)\nabla - (\nabla \cdot \nabla)\mathbf{F} + \nabla (\nabla \cdot \mathbf{F}) - \mathbf{F} (\nabla \cdot \nabla)
$$</p>
<p>However, the correct result is <a href="../209">as follows.</a></p>
<p>$$
\nabla \times (\nabla \times \mathbf{F})=\nabla(\nabla \cdot \mathbf{F})-\nabla ^{2} \mathbf{F}
$$</p>
<p>Another example exists. Since the <a href="../256">cross product</a> of vectors has the property of anticommutativity, if $\nabla \times \mathbf{F}$ were a cross product, the following equation should hold:</p>
<p>$$
\nabla \times \mathbf{F} \overset{?}{=} - \mathbf{F} \times \nabla
$$</p>
<p>Therefore, $\nabla$ is not a vector, and it can be understood that $\nabla \times \mathbf{F}$ is not the cross product of $\nabla$ and $\mathbf{F}$. Instead of being a vector, $\nabla \times$ should be considered as a function in itself. In physics, functions that take other functions as variables are called <a href="../301">operators</a>.</p>
<h3 id="so-whats-the-difference-between-nabla-times-mathbff-and-mathbff-times-nabla">So, what&rsquo;s the difference between $\nabla \times \mathbf{F}$ and $\mathbf{F} \times \nabla$?</h3>
<p>$\nabla \times$ is an operator defined as follows, taking a vector function as its variable:</p>
<p>$$
\nabla \times (\mathbf{F}) = \left( \dfrac{ \partial  F_{z}}{ \partial y }-\dfrac{ \partial F_{y}}{ \partial  z} \right)\hat{\mathbf{x}}+ \left( \dfrac{ \partial  F_{x}}{ \partial z }-\dfrac{ \partial F_{z}}{ \partial  x} \right)\hat{\mathbf{y}}+ \left( \dfrac{ \partial  F_{y}}{ \partial x }-\dfrac{ \partial F_{x}}{ \partial  y} \right)\hat{\mathbf{z}}
$$</p>
<p>In other words, $\nabla \times \mathbf{F}$ is the function value when the variable $\mathbf{F}$ is substituted into the operator (function) $\nabla \times$. Of course, this in turn is a vector function of the variables $(x,y,z)$. While $\nabla \times \mathbf{F}$ is the function value of $\nabla \times$, $\mathbf{F} \times \nabla$ is an operator in itself. Although it&rsquo;s not a commonly used expression, it can be defined as the following <a href="../1638">differential operator</a> if we were to define it.</p>
<p>$$
\begin{align*}
\mathbf{F} \times \nabla
&amp;= \begin{vmatrix}
\hat{\mathbf{x}} &amp; \hat{\mathbf{y}} &amp; \hat{\mathbf{z}} \\
F_{x} &amp; F_{y} &amp;F_{z} \\
\dfrac{ \partial }{ \partial  x} &amp; \dfrac{ \partial  }{ \partial y } &amp; \dfrac{ \partial  }{ \partial  z}
\end{vmatrix} \\
&amp;= \left( F_{y}\dfrac{ \partial }{ \partial  z} - F_{z}\dfrac{ \partial }{ \partial  y} \right)\hat{\mathbf{x}} +
\left( F_{z}\dfrac{ \partial }{ \partial  x} - F_{x}\dfrac{ \partial }{ \partial  z} \right)\hat{\mathbf{y}} +
\left( F_{x}\dfrac{ \partial }{ \partial  y} - F_{y}\dfrac{ \partial }{ \partial  x} \right)\hat{\mathbf{z}}
\end{align*}
$$</p>
<h2 id="derivation">Derivation</h2>
<p>Now, let&rsquo;s consider a function that indicates the direction of rotation (clockwise or counterclockwise) of a rotating vector function. It&rsquo;s important to note that no direction within the plane of rotation can specify the direction of rotation. Look at the diagram below.</p>
<p><img src="%EA%B7%B8%EB%A6%BC1.png#center" alt=""></p>
<ul>
<li>Vector $-\hat{\mathbf{x}}$ can explain the movement at point $A$, but not at point $B$.</li>
<li>Vector $\hat{\mathbf{y}}$ can explain the movement at point $C$, but not at point $D$.</li>
<li>Vector $\hat{\mathbf{x}} + \hat{\mathbf{y}}$ can explain the path $F$, but not $G$.</li>
</ul>
<p>This is also true for clockwise rotation. Now, you should sense the need to move out of the plane of rotation to specify the direction of rotation. In fact, there&rsquo;s already a good method to determine this: using the right-hand rule, which determines the axis of rotation in the direction of the thumb when the right hand wraps around. Therefore, in the $xy$-plane, the axis (direction) of counterclockwise rotation is $\hat{\mathbf{z}}$, and the axis (direction) of clockwise rotation is $-\hat{\mathbf{z}}$.</p>
<p><img src="%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C2.PNG#center" alt=""></p>
<p>Now, let&rsquo;s find a value that indicates the $\hat{\mathbf{z}}$ direction when $\mathbf{F}$ is rotating counterclockwise in the $xy$-plane, in other words, a positive value. Let&rsquo;s represent the rotation simply with a rectangle as below.</p>
<p><img src="%EC%8A%AC%EB%9D%BC%EC%9D%B4%EB%93%9C3.PNG#center" alt=""></p>
<p>Path ① moves from point $a$ to point $b$, and let&rsquo;s say $\mathbf{F}(a) = (1,0,0)$ and $\mathbf{F}(b) = (0,1,0)$. Then, as $x$ changes by +1 from point $a$ to $b$, and $F_{y}$ also changes by +1, we obtain the following.</p>
<p>$$
\dfrac{\partial F_{y}}{\partial x} \gt 0
$$</p>
<p>In the same manner, on the path where the point moves from $b$ to $c$, $y$ changes by +1, and $F_{x}$ changes by -1. Checking all four paths, we find that:</p>
<p>$$
\dfrac{\partial F_{y}}{\partial x} \gt 0 \quad \text{in path $\textcircled{1}$, $\textcircled{3}$}
$$</p>
<p>$$
\dfrac{\partial F_{x}}{\partial y} \lt 0 \quad \text{in path $\textcircled{2}$, $\textcircled{4}$}
$$</p>
<p>Therefore, for a vector $\mathbf{F}$ that rotates counterclockwise as above, the value below is always positive:</p>
<p>$$
\dfrac{\partial F_{y}}{\partial x} - \dfrac{\partial F_{x}}{\partial y} \gt 0
$$</p>
<p>Conversely, if $\mathbf{F}$ is rotating clockwise, the above value is always negative. Now, we can define the operator $\operatorname{curl}_{xy}$, which indicates the direction and magnitude of rotation in the $xy$-plane when the vector function $\mathbf{F}$ is substituted:</p>
<p>$$
\operatorname{curl}_{xy} (\mathbf{F}) = \left( \dfrac{\partial F_{y}}{\partial x} - \dfrac{\partial F_{x}}{\partial y} \right) \hat{\mathbf{z}}
$$</p>
<ul>
<li>The sign of the $\hat{\mathbf{z}}$ component of this function indicates the direction of rotation of $\mathbf{F}$ in the $xy$-plane:
<ul>
<li>If it&rsquo;s positive (+), $\mathbf{F}$ rotates counterclockwise in the $xy$-plane.</li>
<li>If it&rsquo;s negative (-), $\mathbf{F}$ rotates clockwise in the $xy$-plane.</li>
<li>If it&rsquo;s zero (0), there is no rotation.</li>
</ul>
</li>
<li>The magnitude of the $\hat{\mathbf{z}}$ component of this function indicates how rapidly $\mathbf{F}$ is rotating in the $xy$-plane.</li>
</ul>
<p>Applying this discussion similarly to the $yz$-plane and the $zx$-plane, we can define the vector $\nabla \times \mathbf{F}$, which indicates the direction and magnitude of rotation of $\mathbf{F}$ in 3-dimensional space, as follows.</p>
<p>$$
\nabla \times \mathbf{F} := \left( \dfrac{\partial F_{z}}{\partial y} - \dfrac{\partial F_{y}}{\partial z} \right)\hat{\mathbf{x}} + \left( \dfrac{\partial F_{x}}{\partial z} - \dfrac{\partial F_{z}}{\partial x} \right)\hat{\mathbf{y}} + \left( \dfrac{\partial F_{y}}{\partial x} - \dfrac{\partial F_{x}}{\partial y} \right)\hat{\mathbf{z}}
$$</p>
<p style="text-align: right; margin: 0px; margin-top: -2em;">■</p>
<h2 id="related-formulas">Related formulas</h2>
<ul>
<li>
<p><strong>Linearity:</strong>
$$
\nabla \times (\mathbf{A} + \mathbf{B}) = \nabla \times \mathbf{A} + \nabla \times \mathbf{B}
$$</p>
</li>
<li>
<p><a href="../93">Multiplication rule:</a></p>
<p>$$
\nabla \times (f\mathbf{A}) = f(\nabla \times \mathbf{A}) - \mathbf{A} \times (\nabla f)
$$</p>
<p>$$
\nabla \times (\mathbf{A} \times \mathbf{B}) = (\mathbf{B} \cdot \nabla)\mathbf{A} - (\mathbf{A} \cdot \nabla)\mathbf{B} + \mathbf{A} (\nabla \cdot \mathbf{B}) - \mathbf{B} (\nabla \cdot \mathbf{A})
$$</p>
</li>
<li>
<p><a href="../876">2nd derivative:</a></p>
<p>$$
\nabla \times (\nabla f) = \mathbf{0}
$$</p>
<p>$$
\nabla \times (\nabla \times \mathbf{F}) = \nabla (\nabla \cdot \mathbf{F}) - \nabla^{2} \mathbf{F}
$$</p>
</li>
<li>
<p><a href="../937">Stokes&rsquo; theorem</a>
$$
\int_{\mathcal{S}} (\nabla \times \mathbf{v} )\cdot d\mathbf{a} = \oint_{\mathcal{P}} \mathbf{v} \cdot d\mathbf{l}
$$</p>
</li>
<li>
<p><a href="../3096">Integral formulas</a>
$$
\int_{\mathcal{V}} (\nabla \times \mathbf{v}) d \tau = - \oint_{\mathcal{S}} \mathbf{v} \times d \mathbf{a}
$$</p>
<p>$$
\int_{\mathcal{S}} \nabla T \times d \mathbf{a} = - \oint_{\mathcal{P}} T d \mathbf{l}
$$</p>
</li>
<li>
<p><a href="../959">Integration by parts</a>
$$
\int_{\mathcal{S}} f \left( \nabla \times \mathbf{A} \right)\mathbf{A} \cdot d \mathbf{a}  = \int_{\mathcal{S}} \left[ \mathbf{A} \times \left( \nabla f \right) \right] \cdot d\mathbf{a} + \oint_{\mathcal{P}} f\mathbf{A} \cdot d\mathbf{l}
$$</p>
<p>$$
\int_{\mathcal{V}} \mathbf{B} \cdot \left( \nabla \times \mathbf{A} \right) d\tau = \int_{\mathcal{V}} \mathbf{A} \cdot \left( \nabla \times \mathbf{B} \right) d\tau + \oint_{\mathcal{S}} \left( \mathbf{A} \times \mathbf{B} \right) \cdot d \mathbf{a}
$$</p>
</li>
</ul>
<h3 id="proof">Proof</h3>
<h4 id="linearity">Linearity</h4>
<p>Using <a href="../90">Einstein notation</a> and <a href="../83">Levi-Civita symbol</a>, if we denote $\nabla_{j} = \dfrac{\partial }{\partial x_{j}}$, then:</p>
<p>$$
\begin{align*}
\left[ \nabla \times (\mathbf{A} + \mathbf{B}) \right]_{i}
&amp;= \epsilon_{ijk} \nabla_{j} (\mathbf{A} + \mathbf{B})_{k} \\
&amp;= \epsilon_{ijk} \nabla_{j} (A_{k} + B_{k}) \\
&amp;= \epsilon_{ijk} \nabla_{j}A_{k} + \epsilon_{ijk} \nabla_{j}B_{k} \\
&amp;= [\nabla \times \mathbf{A}]_{i} + [\nabla \times \mathbf{B}]_{i} \\
\end{align*}
$$</p>
<p>The third equality holds because $\dfrac{\partial (A_{k} + B_{k})}{\partial x_{j}} = \dfrac{\partial A_{k}}{\partial x_{j}} + \dfrac{\partial B_{k}}{\partial x_{j}}$.
<p style="text-align: right; margin: 0px; margin-top: -2em;">■</p></p>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="../1575">Del Operator $\nabla$</a></li>
<li><a href="../1778">Gradient $\nabla f$</a></li>
<li><a href="../1796">Divergence $\nabla \cdot \mathbf{F}$</a></li>
<li><a href="../1752">Curl $\nabla \times \mathbf{F}$</a></li>
<li><a href="../1879">Laplacian $\nabla^{2} f$</a></li>
</ul>


<aside style="text-align: right;">
    2020-09-03&emsp;
    전기현&emsp;
    <a href="../1227">🎲 1752</a>
</aside>



<script>
  document.addEventListener('DOMContentLoaded', () => {
    
    const contentBox = document.querySelector('.content-box');
    if (contentBox) {
      renderKaTex(contentBox);
    }
    const tex = document.querySelector('.tex');
    if (tex) {
      renderKaTex(tex);
    }

    var title = 'Curl of Vector Functions in 3D Cartesian Coordinates';
    var link = 'https:\/\/freshrimpsushi.github.io\/en\/posts\/1752\/';
    var arr = new Array();
    var obj = {
      "title": title,
      "link": link
    };
    var postList = JSON.parse(localStorage.getItem('latelyViewPostList'));
    if (postList == '' || postList == null || postList == undefined || postList == 0 || postList == NaN) {
      arr.push(obj);
      localStorage.setItem('latelyViewPostList', JSON.stringify(arr));
    } else {
      var listSize = postList.length;
      for (var i = 0; i < listSize; i++) {
        if (title == postList[i].title) {
          postList.splice(i, 1);
          break;
        }
      }
      arr = postList;
      arr.push(obj);
      if (arr.length > 5) {
        arr.shift();
      }
      localStorage.setItem('latelyViewPostList', JSON.stringify(arr));
    }
  });
</script>

      </div>
      <div style="margin-bottom: 10px;">댓글</div>
<div class="area-reply">
  <div class="list-reply">
  </div>
</div>

<hr />


<div class="write-box">
  <div class="write-author-info box-account">
    <input type="hidden" name="cmt_idx" />
    <input class="ai-author" type="text" value="" placeholder="이름" />
    <input class="ai-password" type="password" value="" maxlength="20" placeholder="20자 이내 비밀번호를 입력하세요" />
  </div>
  <div class="write-content">
    <textarea class="ai-content" value="" placeholder="내용
    
 - 웨일 브라우저 기준 V3.23.214.10 이후 버전에서 덧글 노출이 안되는 현상이 확인 되었습니다. 설정 → 기본 → 클린 웹 → 추적 방지(사용안함)으로 설정하면 댓글이 정상출력됩니다." style="IME-MODE:active;"></textarea>
  </div>
  <div class="write-button">
    <input class="write_comment" type="submit" value="등록" onclick="write_comment();" />
  </div>
  <aside class="tex" style="text-align: center;">댓글에도 $\TeX$이 적용됩니다.</aside>
</div>

<script>
  let commentRows = [];
  const listReply = document.querySelector('.list-reply');

  document.addEventListener('DOMContentLoaded', () => {
    get_all_comment();
  });

  function get_all_comment() {
    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {return data.ip})
      .then(ip => {
        const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=getAllComment';
        return postFetch(url, {
                board_idx: '1752',
                user_ip: ip
              });
      })
      .then(res => res.json())
      .then(data => {
        if (data.ok) {
          commentRows = data.rows;
          render_comment(commentRows);
        }
      })
      .catch(err => console.error(err));
  }

  function render_comment(rows) {
    const badgeExceptionArr = ['류대식', '전기현', 'ㅇㅇ', '질문'];
    const adminExceptionArr = ['류대식', '전기현'];
    render_blank();
    let html = '';
    rows.map(row => {
      html += `<div id="comment${row.cmt_idx}" class="parents">`;
      html += `<div class="content-info">`;
      
      let badge = '';
      if (row.cmt_cnt > 125) {
        badge = '🥇';
      } else if (row.cmt_cnt > 25) {
        badge = '🥈';
      } else if (row.cmt_cnt > 5) {
        badge = '🥉';
      } else { }

      if (badgeExceptionArr.includes(row.author)) {
        badge = '';
      }

      let ipAddress = '';
      if (row.ip_address == null) {
        ipAddress = '(-)';
      } else {
        ipAddress = `(${row.ip_address})`;
      }

      if(adminExceptionArr.includes(row.author)) {
        ipAddress = '';
      }
      
      html += `<div class="list-author">${badge} ${row.author} ${ipAddress}</div>`;
      html += `<div class="list-bridge">▶</div>`;
      if(row.approve) {
        html += `<div class="list-date">${row.datetime}</div>`;
      } else {
        html += `<div class="list-date">${row.datetime} - 관리자의 승인을 기다리고 있습니다</div>`;
      }
      html += `<div class="list-button">`;
      html += `<div class="list-update-button" onclick="update_comment('${row.cmt_idx}', 'parents');">수정</div>`;
      html += `<div class="list-delete-button" onclick="delete_comment('${row.cmt_idx}', 'parents');">삭제</div>`;
      html += `</div>`; 
      html += `</div>`; 
      let content = row.content;
      content = content.replace(/\n/g, '<br />');
      html += `<div class="content-text">${content}</div>`;
      html += `<div class="re-comment"><span class="re-comment-button" onclick="re_comment('${row.cmt_idx}');">답글</span></div>`;
      html += `</div>`;

      row.child.map(child => {
        html += `<div id="comment${child.cmt_idx}" class="child">`;
        html += `<div class="content-info">`;
        
        let badge = '';
        if (child.cmt_cnt > 5) {
          badge = '🥉';
        } else if (child.cmt_cnt > 25) {
          badge = '🥈';
        } else if (child.cmt_cnt > 125) {
          badge = '🥇';
        } else { }

        if (badgeExceptionArr.includes(child.author)) {
          badge = '';
        }

        let ipAddress = '';
        if (child.ip_address == null) {
          ipAddress = '(-)';
        } else {
          ipAddress = `(${child.ip_address})`;
        }

        if(adminExceptionArr.includes(child.author)) {
          ipAddress = '';
        }

        html += `<div class="list-author">${badge} ${child.author} ${ipAddress}</div>`;
        html += `<div class="list-bridge">▶</div>`;
        if(child.approve) {
          html += `<div class="list-date">${child.datetime}</div>`;
        } else {
          html += `<div class="list-date">${child.datetime} - 관리자의 승인을 기다리고 있습니다</div>`;
        }
        html += `<div class="list-button">`;
        html += `<div class="list-update-button" onclick="update_comment('${child.cmt_idx}', 'child');">수정</div>`;
        html += `<div class="list-delete-button" onclick="delete_comment('${child.cmt_idx}', 'child');">삭제</div>`;
        html += `</div>`; 
        html += `</div>`; 
        let content = child.content;
        content = content.replace(/\n/g, '<br />');
        html += `<div class="content-text">${content}</div>`;
        html += `</div>`;
      });
    });
    listReply.innerHTML = html;
    renderKaTex(listReply);
    if(location.href.indexOf('#') != -1) {
      location.href=location.href.substr(location.href.indexOf('#'));
  }
  }

  function render_blank() {
    listReply.innerHTML = '';
  }

  
  function write_comment() {
    const inputAuthor = document.querySelector('.ai-author');
    const inputPassword = document.querySelector('.ai-password');
    const inputContent = document.querySelector('.ai-content');

    const author = inputAuthor.value;
    const password = inputPassword.value;
    const content = inputContent.value;

    if (author === '' || password === '' || content === '') {
      alert('빈칸을 채워주세요');
      return;
    }
    const idx = '1752';
    const board_slug = 'curl-of-vector-function-in-cartesian-coordinate-system';
    const board_title = 'Curl of Vector Functions in 3D Cartesian Coordinates';

    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {return data.ip})
      .then(ip => {
        const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=writeComment';
        return postFetch(url, {
                board_idx: idx,
                board_slug: board_slug,
                board_title: board_title,
                author: author.replace(/\+/g, "%2B"),
                password: password,
                content: content.replace(/\+/g, "%2B"),
                user_ip: ip
              });
      })
      .then(res => res.json())
      .then(data => {
        if (data.ok) {
          commentRows.push(data.row);
          render_comment(commentRows);
          inputAuthor.value = '';
          inputPassword.value = '';
          inputContent.value = '';
        } else {
          if (data.status === 606) {
            Swal.fire('Warning!\n지속적인 도배 시도시\nIP가 차단될 수 있습니다.');
            inputAuthor.value = '';
            inputPassword.value = '';
            inputContent.value = '';
          } else if (data.status === 607) {
            alert('지나친 댓글 도배를 확인하여\n접근을 차단합니다.');
            window.location.href = 'https://google.com';
          } else {}
        }
      })
      .catch(err => console.error(err));
  }

  
  async function update_comment(cmt_idx, type) {
    const { value: password } = await Swal.fire({
      title: '댓글 수정',
      input: 'password',
      inputPlaceholder: '글 작성 시 입력했던 패스워드를 입력하세요',
      inputAttributes: {
        maxlength: 20,
        autocapitalize: 'off',
        autocorrect: 'off'
      }
    });

    if (password) {
      const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=checkPassword';
      postFetch(url, {
        cmt_idx: cmt_idx,
        password: password
      })
        .then(res => res.json())
        .then(data => {
          if (data.ok) {
            const commnetHtml = document.querySelector(`#comment${cmt_idx}`);
            const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=getComment';
            postFetch(url, {
              cmt_idx: cmt_idx
            })
              .then(res => res.json())
              .then(data => {
                if (data.ok) {
                  const row = data.row;
                  const author = row.author;
                  const content = row.content;
                  let html = '';
                  html += `<div class="update-author-info">`;
                  html += `<input class="update-author" type="text" value="${author}" placeholder="이름" />`;
                  html += `<input class="update-password" type="password" value="${password}" placeholder="비밀번호" disabled />`;
                  html += '</div>';
                  html += `<textarea class="update-content" value="" style="IME-MODE:active;">${content}</textarea>`;
                  html += `<input class="update_comment-button" type="submit" value="수정" onclick="update_comment_click(${cmt_idx}, '${type}')" />`;
                  html += `<input class="update_comment-button" type="submit" value="취소" onclick="cancel_click(${cmt_idx})" />`;
                  commnetHtml.innerHTML = html;
                }
              })
              .catch(err => console.error(err));
          } else {
            Swal.fire('패스워드 일치 오류');
          }
        })
        .catch(err => console.error(err));
    }
  }

  
  async function delete_comment(cmt_idx, type) {
    const { value: password } = await Swal.fire({
      title: '댓글 삭제',
      text: "삭제하면 되돌릴 수 없습니다.",
      input: 'password',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      inputPlaceholder: '글 작성 시 입력했던 패스워드를 입력하세요',
      inputAttributes: {
        maxlength: 20,
        autocapitalize: 'off',
        autocorrect: 'off'
      }
    });

    if (password) {
      const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=checkPassword';
      postFetch(url, {
        cmt_idx: cmt_idx,
        password: password
      })
        .then(res => res.json())
        .then(data => {
          if (data.ok) {
            const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=deleteComment';
            postFetch(url, {
              cmt_idx: cmt_idx
            })
              .then(res => res.json())
              .then(data => {
                Swal.fire('삭제되었습니다.');
                if (type === 'parents') {
                  commentRows = commentRows.filter((row) => row.cmt_idx !== cmt_idx);
                } else if (type === 'child') {
                  commentRows.map((row) => {
                    row.child = row.child.filter((childRow) => childRow.cmt_idx !== cmt_idx);
                    row.child_cnt = row.child.length;
                  });
                } else { }
                render_comment(commentRows);
              })
              .catch(err => console.error(err));
          } else {
            Swal.fire('패스워드 일치 오류');
          }
        })
        .catch(err => console.error(err));
    }
  }

  
  function update_comment_click(cmt_idx, type) {
    const inputAuthor = document.querySelector(`#comment${cmt_idx} .update-author`);
    const inputPassword = document.querySelector(`#comment${cmt_idx} .update-password`);
    const inputContent = document.querySelector(`#comment${cmt_idx} .update-content`);

    const author = inputAuthor.value;
    const password = inputPassword.value;
    const content = inputContent.value;

    if (author === '' || password === '' || content === '') {
      alert('빈칸을 채워주세요');
    }

    const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=updateComment';
    postFetch(url, {
      cmt_idx: cmt_idx,
      author: author.replace(/\+/g, "%2B"),
      password: password,
      content: content.replace(/\+/g, "%2B")
    })
      .then(res => res.json())
      .then(data => {
        if (data.ok) {
          Swal.fire('수정되었습니다.');
          if (type === 'parents') {
            commentRows.map((row) => {
              if (row.cmt_idx == cmt_idx) {
                row.author = data.author;
                row.content = data.content;
              }
            });
          } else if (type === 'child') {
            commentRows.map((row) => {
              if (row.cmt_idx == data.parent_cmt_idx) {
                row.child.map((child) => {
                  if (child.cmt_idx == cmt_idx) {
                    child.author = data.author;
                    child.content = data.content;
                  }
                });
              }
            });
          } else { }
          render_comment(commentRows);
          recentRows.map((row) => {
            if (row.cmt_idx == cmt_idx) {
              row.author = data.author;
              row.content = data.content;
            }
          });
          render_recent_comment(recentRows);
        }
      })
      .catch(err => console.error(err));
  }

  
  function cancel_click() {
    render_comment(commentRows);
  }

  
  function re_comment(cmt_idx) {
    const reComment = document.querySelector(`#comment${cmt_idx} .re-comment`);
    let html = '';
    html += '<div class="re-comment-box">';
    html += '<div class="re-comment-author-info">';
    html += '<input class="re-comment-author" type="text" value="" placeholder="이름" />';
    html += '<input class="re-comment-password" type="password" value="" placeholder="비밀번호" />';
    html += '</div>';
    html += '<textarea class="re-comment-content" placeholder="내용" value="" style="IME-MODE:active;"></textarea>';
    html += `<input class="re-comment-btn" type="submit" value="등록" onclick="re_comment_click(${cmt_idx})" />`;
    html += `<input class="re-comment-btn" type="submit" value="취소" onclick="cancel_click(${cmt_idx})" />`;
    html += '</div>';

    reComment.innerHTML = html;
  }

  function re_comment_click(cmt_idx) {
    const inputAuthor = document.querySelector(`#comment${cmt_idx} .re-comment-author`);
    const inputPassword = document.querySelector(`#comment${cmt_idx} .re-comment-password`);
    const inputContent = document.querySelector(`#comment${cmt_idx} .re-comment-content`);

    const author = inputAuthor.value;
    const password = inputPassword.value;
    const content = inputContent.value;

    if (author === '' || password === '' || content === '') {
      alert('빈칸을 채워주세요');
      return;
    }

    const board_idx = '1752';
    const board_slug = 'curl-of-vector-function-in-cartesian-coordinate-system';
    const board_title = 'Curl of Vector Functions in 3D Cartesian Coordinates';

    fetch('https://api64.ipify.org?format=json')
      .then(res => res.json())
      .then(data => {return data.ip})
      .then(ip => {
        const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/comment.php?action=writeReComment';
        return postFetch(url, {
                board_idx: board_idx,
                board_slug: board_slug,
                board_title: board_title,
                cmt_idx: cmt_idx,
                author: author.replace(/\+/g, "%2B"),
                password: password,
                content: content.replace(/\+/g, "%2B"),
                user_ip: ip
              });
      })
      .then(res => res.json())
      .then(data => {
        if (data.ok) {
          commentRows.map((row) => {
            if (row.cmt_idx == cmt_idx) {
              row.child.push(data.row);
            }
          });
          render_comment(commentRows);
        } else {
          if (data.status == 606) {
            Swal.fire('Warning!\n지속적인 도배 시도시\nIP가 차단될 수 있습니다.');
            inputAuthor.value = '';
            inputPassword.value = '';
            inputContent.value = '';
          } else if (data.status === 607) {
            alert('지나친 댓글 도배를 확인하여\n접근을 차단합니다.');
            window.location.href = 'https://google.com';
          } else {}
        }
      })
      .catch(err => console.error(err));
  }

</script>
    </div>
    <div class="sidebar">

  <aside>
    <p>
      현재 테스트 중인 기능이 있어 블로그가 정상적으로 작동되지 않을 수 있습니다. 댓글이나 메일로 불편사항 남겨주시면 확인토록 하겠습니다.
    </p>


  






<div class="category">
</div>

<aside style="display:flex;">
  ● 를 클릭해서 관심있는 분야만 강조해보세요.
      <div class="resetmute">
        <button class="sb-btn btnReset"
          style = "border-radius:5px; border:0px">reset</button>
        <button class="sb-btn btnMute"
          style = "border-radius:5px; border:0px">mute</button>
      </div>
  </aside>


 

  

  

  

  

  

  

  

  

  

  

  

  

  

  


<script>
  const color = {green: '#33cc33', yellow: '#ffcc00', red: '#ff3333', black: '#000000'};
  const categoryRows = [
    [
      { idx: 1, name: '함수', size: '', color: color.green },
      { idx: 2, name: '보조정리', size: '1', color: color.green },
      { idx: 3, name: '집합론', size: '2', color: color.green },
      { idx: 4, name: '정수론', size: '1', color: color.green },
      { idx: 5, name: '기하학', size: '', color: color.green },
      { idx: 6, name: '행렬대수', size: '1', color: color.green },
      { idx: 7, name: '선형대수', size: '', color: color.green },
      { idx: 8, name: '추상대수', size: '', color: color.green },
      { idx: 9, name: '위상수학', size: '', color: color.green },
      { idx: 10, name: '그래프이론', size: '', color: color.green }
    ],
    [
      { idx: 1, name: '해석개론', size: '', color: color.green },
      { idx: 2, name: '다변수벡터해석', size: '', color: color.green },
      { idx: 3, name: '복소해석', size: '1', color: color.green },
      { idx: 4, name: '측도론', size: '1', color: color.green },
      { idx: 5, name: '푸리에해석', size: '', color: color.green },
      { idx: 6, name: '초함수론', size: '', color: color.green },
      { idx: 7, name: '단층촬영', size: '', color: color.green },
    ],
    [
      { idx: 1, name: '거리공간', size: '', color: color.green },
      { idx: 2, name: '바나흐공간', size: '', color: color.green },
      { idx: 3, name: '힐베르트공간', size: '', color: color.green },
      { idx: 4, name: '르벡공간', size: '', color: color.green }
    ],
    [
      { idx: 1, name: '상미분방정식', size: '', color: color.green },
      { idx: 2, name: '편미분방정식', size: '', color: color.green },
      { idx: 3, name: '확률미분방정식', size: '', color: color.green }
    ],
    [
      { idx: 1, name: '매트랩', size: '', color: color.green },
      { idx: 2, name: '수치해석', size: '', color: color.green },
      { idx: 3, name: '최적화이론', size: '', color: color.green }
    ],
    [
      { idx: 1, name: '물리학', size: '', color: color.green },
      { idx: 2, name: '수리물리', size: '3', color: color.green },
      { idx: 3, name: '고전역학', size: '', color: color.green },
      { idx: 4, name: '전자기학', size: '', color: color.green },
      { idx: 5, name: '양자역학', size: '1', color: color.yellow },
      { idx: 6, name: '열물리학', size: '', color: color.green }
    ],
    [
      { idx: 1, name: 'R', size: '', color: color.green },
      { idx: 2, name: '데이터확보', size: '', color: color.green },
      { idx: 3, name: '데이터과학', size: '', color: color.green },
      { idx: 4, name: '통계적검정', size: '', color: color.red },
      { idx: 5, name: '통계적분석', size: '', color: color.green },
      { idx: 6, name: '수리통계학', size: '', color: color.green },
      { idx: 7, name: '분포이론', size: '', color: color.green },
      { idx: 8, name: '확률론', size: '', color: color.green },
      { idx: 9, name: '위상데이터분석', size: '1', color: color.green }
    ],
    [
      { idx: 1, name: '줄리아', size: '1', color: color.green },
      { idx: 2, name: '프로그래밍', size: '1', color: color.green },
      { idx: 3, name: '알고리즘', size: '', color: color.green },
      { idx: 4, name: '머신러닝', size: '9', color: color.green },
      { idx: 5, name: '세이버메트릭스', size: '', color: color.green },
      { idx: 6, name: '논문작성', size: '', color: color.green },
      { idx: 7, name: '교과과정', size: '1', color: color.green },
      { idx: 8, name: '생새우초밥지', size: '', color: color.black }
    ]
  ];

  document.addEventListener('DOMContentLoaded', () => {
    const blindList = JSON.parse(localStorage.getItem('blindList'));
    if (blindList == '' || blindList == null || blindList == undefined || blindList == 0 || blindList == NaN) {
      localStorage.setItem('blindList', null);
    }
    render_category(categoryRows);

    blind_category(blindList);

    const btnReset = document.querySelector('.btnReset');
    btnReset.addEventListener('click', () => {
      let arr = new Array();
      localStorage.setItem('blindList', JSON.stringify(arr));
      blind_category(arr);
    });

    const btnMute = document.querySelector('.btnMute');
    btnMute.addEventListener('click', () => {
      let arr = new Array();
      for(let i = 0; i < categoryRows.length; i++) {
        categoryRows[i].map(row => {
          const data = {mainIdx: i, subIdx: row.idx};
          arr.push(data);
        });
      }
      localStorage.setItem('blindList', JSON.stringify(arr));
      blind_category(arr);
    });
  });

  function render_category(rows)
  {
    const category = document.querySelector('.category');
    let html = '';
    for(let i = 0; i < rows.length; i++) {
      rows[i].map(row => {
        html += `<span id="cate${i}-${row.idx}" class="cate etewsert">`;
        html += `<span onclick="check_blind(${i}, ${row.idx});" style="cursor: pointer; color: ${row.color}">●</span>`;
        html += `<a href="https:\/\/freshrimpsushi.github.io\/en\/categories/${row.name.toLowerCase()}/">`; 
        html += ` ${row.name} (${row.size})</a>`;
        html += '</span>';
        if(screen.width > 954) {html += '<br>'} else {html += ' '}
      });
      html += '<hr>';
    }

    category.innerHTML = html;
  }

   
  function check_blind(mainIdx, subIdx)
  {
    const cateDiv = document.querySelector(`#cate${mainIdx}-${subIdx}`);
    let arr = new Array();
    const data = {mainIdx, subIdx};
    let blindList = JSON.parse(localStorage.getItem('blindList'));
    if (blindList == '' || blindList == null || blindList == undefined || blindList == 0 || blindList == NaN) {
      arr.push(data);
      localStorage.setItem('blindList', JSON.stringify(arr));
      cateDiv.className += ' blind';
    } else {
      arr = blindList;
      let tempArr = null;
      for(let i = 0; i < arr.length; i++) {
        if(arr[i].mainIdx == mainIdx && arr[i].subIdx == subIdx) {
          tempArr = arr.filter(a => a.mainIdx != mainIdx || a.subIdx != subIdx);
          break;
        }
      }
      
      if(tempArr === null) {
        arr.push(data);
        localStorage.setItem('blindList', JSON.stringify(arr));
        cateDiv.className += ' blind';
      } else {
        localStorage.setItem('blindList', JSON.stringify(tempArr));
        cateDiv.className = 'cate';
      }
    }
  }

   
  function blind_category(blindList)
  {
    const cateDiv = document.querySelectorAll('.cate');
    cateDiv.forEach(div => {
      div.className = 'cate';
    });
    if(blindList !== null) {
      blindList.map(list => {
        const blindDiv = document.querySelector(`#cate${list.mainIdx}-${list.subIdx}`);
        blindDiv.className += ' blind';
      });
    }
  }
</script>

</aside>

<aside>
<p><b>최근에 본 포스트</b></p>

<aside>
  <div class="lately-viewed-list" style="padding-left: 4px;">
  </div>
</aside>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const postList = JSON.parse(localStorage.getItem('latelyViewPostList'));

    const list = document.querySelector('.lately-viewed-list');
    let html = '';
    if (postList == '' || postList == null || postList == undefined || postList == 0 || postList == NaN) {
      localStorage.setItem('latelyViewPostList', null);
      html += '<div class="lv-list">';
      html += ' · 열람한 포스트가 없습니다.';
      html += '</div>';
      list.innerHTML = html;
    } else {
      for (let i = (postList.length - 1); i >= 0; i--) {
        html += '<div class="lv-list">';
        html += `<a href="${postList[i].link}"> · ${postList[i].title}</a>`;
        html += '</div>';
      }
      list.innerHTML = html;
    }
  });
</script>
</aside>

<aside>
    <h2></h2>
    <ul>
    </ul>
</aside>

<aside>
  <p><b>최근 댓글</b></p>
  <div class="current-reply">
  </div>
</aside>

<script>
  const url = 'https:\/\/freshrimpsushi.com\/blog\/ajax/recent_comment.php?action=getCurrentComment';
  let recentRows = []; 
  fetch(url)
    .then(res => res.json())
    .then(data => {
      if (data.ok) {
        recentRows = data.rows;
        render_recent_comment(recentRows);
      }
    })
    .catch(err => console.error(err));

  
  function render_recent_comment(rows) {
    const currentReply = document.querySelector('.current-reply');
    let html = '';
    rows.map(row => {
      let link = 'https:\/\/freshrimpsushi.github.io\/en\/';
      if (row.board_idx > -1) {
        
        
        link += `posts/${row.board_idx}#comment${row.cmt_idx}`;
      } else if (row.board_idx == -1) {
        link += `#comment${row.cmt_idx}`;
      } else {
        link += `categories/${row.board_title}#comment${row.cmt_idx}`;
      }
      html += '<div class="current-reply-list">';
      html += `<a href="${link}">`;
      html += `<b> - ${row.author}</b>: `;
      html += `${row.content}`;
      html += `</a>`;
      html += `</div>`;
    });
    currentReply.innerHTML = html;
    renderKaTex(currentReply);
  }
</script>












</div> 
  </div>
  
  <footer>
  <aside>
    <div>
      <p style="text-align: center">© FreshrimpRestaurant / Powered by 류대식, 전기현</p>
      <p style="text-align: center"><img src=https://freshrimpsushi.github.io/en/logo/gmail.png width=16px> Contact:
        freshrimpsushi@gmail.com<br>
        
      </p>
    </div>

    
    
    
  </aside>
</footer>

  

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/katex.min.js"
  integrity="sha512-5ufNcHqOYgilGEHPfuRIQ5B/vDS1M8+UC+DESZ5CwVgGTg+b2Ol/15rYL/GiCWJ/Sx8oVo0FPFok1dPk8U9INQ=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/contrib/auto-render.min.js"
  integrity="sha512-ZA/RPrAo88DlwRnnoNVqKINnQNcWERzRK03PDaA4GIJiVZvGFIWQbdWCsUebMZfkWohnfngsDjXzU6PokO4jGw=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  
  function renderKaTex(target) {
    renderMathInElement(target, {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
      ],
      trust: true,
      trust: (context) =>
        ["\\htmlId", "\\href", "\\includegraphics"].includes(context.command),
      macros: {
        "\\eqref": "(\\text{#1})",
        "\\ref": "\\href{###1}{\\text{#1}}",
        "\\label": "\\htmlId{#1}{}",
        "\\sech": "\\operatorname{sech}",
        "\\sgn": "\\operatorname{sgn}",
        "\\sign": "\\operatorname{sign}",
        "\\sinc": "\\operatorname{sinc}",
        "\\diag": "\\operatorname{diag}",
        "\\diam": "\\operatorname{diam}",
        "\\Tr": "\\operatorname{Tr}",
        "\\tr": "\\operatorname{tr}",
        "\\Re": "\\operatorname{Re}",
        "\\Im": "\\operatorname{Im}",
        "\\Var": "\\operatorname{Var}",
        "\\Poi": "\\operatorname{Poi}",
        "\\Cov": "\\operatorname{Cov}",
        "\\span": "\\operatorname{span}",
        "\\supp": "\\operatorname{supp}",
        "\\rank": "\\operatorname{rank}",
        "\\nullity": "\\operatorname{nullity}",
        "\\Ric": "\\operatorname{Ric}",
        "\\cR": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2202/2615581243_1645770096.5863.png}",
        "\\acR": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680634690.4371.png}",
        "\\bcR": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2202/2615581243_1645770096.5899.png}",
        "\\abcR": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680634690.0596.png}",
        "\\crH": "\\includegraphics[height=0.8em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680622958.7632.png}",
        "\\smallcrH": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680622958.7632.png}",
        "\\acrH": "\\includegraphics[height=0.8em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680634690.8386.png}",
        "\\smallacrH": "\\includegraphics[height=0.6em]{https://freshrimpsushi.com/community/data/editor/2304/2175452104_1680634690.8386.png}",
      },
      throwOnError: false,
    });
  }
</script>
</body>

</html>